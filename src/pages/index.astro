---
import Layout from '@/layouts/Layout.astro';
import Container from '@/components/ui/Container.astro';
import Section from '@/components/ui/Section.astro';
import Button from '@/components/ui/Button.astro';
import Tag from '@/components/ui/Tag.astro';
import Navigation from '@/components/ui/Navigation.astro';
import Footer from '@/components/ui/Footer.astro';
import AnimatedElement from '@/components/ui/AnimatedElement.astro';
import { siteData } from '@/data/site';
import { projectsData } from '@/data/projects';
import { MessageCircle, ArrowRight, ExternalLink, Eye } from 'lucide-astro';

// Filtrer les projets en featured
const featuredProjects = projectsData.filter(project => project.featured).slice(0, 3);
---

<Layout>
  <div class="min-h-screen bg-gradient-to-br from-cream via-sand-50 to-sand-100">
    <!-- Navigation -->
    <Navigation />

    <!-- Hero Section -->
    <Section class="pt-32 pb-20 min-h-screen flex items-center">
      <Container class="flex flex-col md:flex-row items-center gap-12">
        <div class="max-w-4xl mx-auto text-left">
          <h1 class="font-display text-5xl md:text-6xl font-bold text-dark mb-8 animate-fade-in">
            Chargée
            <span class="text-primary block">de projet</span>
          </h1>
          <div class="animate-fade-in delay-200">
            <p class="text-xl text-dark/80 mb-4 max-w-2xl leading-relaxed">
              Native de Charente-Maritime, j'ai posé mes valises d'abord à Angoulême puis à Bordeaux pour mes études. Fraîchement diplômée, je suis de retour sur la côte charentaise. En quelques mots, je suis chargée de projet et géographe de formation, artiste à mes heures perdues, je suis passionnée par le monde qui m'entoure et j'aime comprendre le fonctionnement des territoires.
            </p>
            <p class="text-xl text-dark/80 mb-8 max-w-2xl leading-relaxed">
              De nature joviale, j'aime rire, me divertir et apprendre de nouvelles choses constamment. Je suis une personne entière qui apprécie que les choses soient dites sans ambigüité. Responsable, autonome, organisé et méthodique sont des termes qui me correspondent très bien.
            </p>
          </div>
          <div class="flex flex-col sm:flex-row gap-4 mt-8 animate-fade-in delay-700">
            <Button href="/projets" variant="primary" size="lg" class="btn-animate hover-lift">
              Découvrir mes projets
            </Button>
            <Button href="mailto:maellelanglais10@hotmail.fr" variant="outline" size="lg" class="btn-animate hover-glow">
              <MessageCircle class="w-5 h-5" /> 
              Contactez moi
            </Button>
          </div>
        </div>
        <div class="animate-scale-in delay-500">
          <img 
            src="/images/photo_de_profil.png" 
            alt="Maëlle Langlais" 
            class="w-96 h-auto rounded-full border-4 border-white shadow-md hover-tilt interactive-element" 
          />
        </div>
      </Container>
      
      <!-- Floating elements for visual interest -->
      <div class="absolute top-20 left-10 w-20 h-20 bg-primary/20 rounded-full animate-float hidden lg:block"></div>
      <div class="absolute bottom-20 right-10 w-16 h-16 bg-atlantic/20 rounded-full animate-float delay-1000 hidden lg:block"></div>
      <div class="absolute top-1/2 left-20 w-12 h-12 bg-salicornes/20 rounded-full animate-pulse hidden lg:block"></div>
    </Section>

    <!-- Featured Projects Preview -->
    <Section class="py-20 bg-white">
      <Container>
        <div class="text-center mb-16 scroll-reveal">
          <h2 class="font-display text-3xl md:text-4xl font-bold text-dark mb-4 animate-fade-in">
            Projets phares
          </h2>
          <p class="text-dark/70 max-w-2xl mx-auto animate-fade-in delay-200">
            Découvrez quelques-uns de mes projets les plus représentatifs
          </p>
        </div>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {featuredProjects.map((project, index) => (
            <div class={`project-card scroll-reveal delay-${(index + 1) * 100}`}>
              <div class="bg-white rounded-lg shadow-md overflow-hidden hover-lift">
                {project.cover && (
                  <div class="aspect-video overflow-hidden">
                    <img 
                      src={project.cover} 
                      alt={project.title}
                      class="w-full h-full object-cover transition-transform duration-300 hover:scale-110"
                    />
                  </div>
                )}
                
                <div class="p-6">
                  <div class="flex flex-wrap gap-2 mb-3">
                    {project.tags.map((tag) => (
                      <Tag class="interactive-element">{tag}</Tag>
                    ))}
                  </div>
                  
                  <h3 class="font-display text-xl font-semibold text-dark mb-2">
                    {project.title}
                  </h3>
                  
                  <p class="text-dark/70 mb-4 line-clamp-3">
                    {project.summary}
                  </p>
                  
                  <div class="flex items-center justify-between">
                    <Button 
                      href={`/projets/${project.slug}`} 
                      variant="outline" 
                      size="sm"
                      class="btn-animate"
                    >
                      <Eye class="w-4 h-4" />
                      Voir le projet
                    </Button>
                    
                    {project.links && project.links.length > 0 && (
                      <Button 
                        href={project.links[0].href} 
                        variant="ghost" 
                        size="sm"
                        target="_blank"
                        class="hover-glow"
                      >
                        <ExternalLink class="w-4 h-4" />
                      </Button>
                    )}
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
        
        <div class="text-center mt-12 scroll-reveal delay-700">
          <Button 
            href="/projets" 
            variant="primary" 
            size="lg"
            class="btn-animate hover-lift"
          >
            Tous mes projets
            <ArrowRight class="w-5 h-5" />
          </Button>
        </div>
      </Container>
    </Section>

    <!-- Call to Action Section -->
    <Section class="py-20 bg-gradient-to-r from-primary/10 via-atlantic/10 to-salicornes/10">
      <Container>
        <div class="text-center max-w-3xl mx-auto scroll-reveal">
          <h2 class="font-display text-3xl md:text-4xl font-bold text-dark mb-6 animate-fade-in">
            Travaillons ensemble
          </h2>
          <p class="text-xl text-dark/80 mb-8 animate-fade-in delay-200">
            Vous avez un projet en tête ? Contactez-moi pour en discuter et voir comment nous pouvons collaborer.
          </p>
          <Button 
            href="mailto:maellelanglais10@hotmail.fr" 
            variant="primary" 
            size="lg"
            class="btn-animate hover-lift animate-fade-in delay-400"
          >
            <MessageCircle class="w-5 h-5" />
            Démarrer la conversation
          </Button>
        </div>
      </Container>
    </Section>
  </div>

  <!-- Footer -->
  <Footer />
</Layout>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
